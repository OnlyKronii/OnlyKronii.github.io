<head>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <title>Only kronii</title>
    <meta name="description" content="Welcome to the world of Ouro Kronii from hololive EN. This is the shrine of Kronii. Feel the glory of gwak.">
    <meta name="url" content="https://onlykronii.github.io/">
    <meta name="author" content="Kyono">
    <meta name="keyword" content="HTML, meta, tag, element, reference">

    <meta name="viewport" content="height=device-height, initial-scale=1.0">

    <script>
    var localCnt = parseInt(localStorage['localCnt'] || '0');
    function rand(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }

    function num_dot_add(input){
        input = input.toString();
        output = '';
        for(let s = 0; s < input.length; ++s){
            if(s != input.length && s % 3 == 0 && s != 0)
                output = ',' + output;
                output = input[input.length - 1 - s] + output;
        }
        return output
    }

    function Count(count = false){
        var xhr = new XMLHttpRequest();
        xhr.open("GET", `https://api.countapi.xyz/${count ? 'hit' : 'get'}/onlykronii.github.io/visits`);
        xhr.responseType = "json";
        xhr.onload = function() {
            if (count){
                localCnt += 1;
                localStorage['localCnt'] = localCnt + '';
            }
            document.getElementById('localCnt').innerText = 'Local count : ' + num_dot_add(localCnt);
            document.getElementById('visits').innerText = num_dot_add(this.response.value);
        }
        xhr.send();
        lst = ['1.wav','2.wav','3.wav','4.wav','5.wav','6.wav','7.wav','8.wav','9.wav', '10.wav', 
            '11.wav','12.wav','13.wav','14.wav','15.wav','16.wav','17.wav','18.wav','19.wav', '20.wav', 
            '21.wav','22.wav','23.wav','24.wav','25.wav','26.wav','27.wav','28.wav','29.wav','30.wav',
              '31.wav'];
        if(count){
            if(rand(0,200) == 0)
                var audio = new Audio('Sounds/Speical.wav');
            else
                var audio = new Audio('Sounds/' + lst[rand(0,lst.length)]);
            audio.play();
            audio.volume = 0.15;
        }
    }
    Count();
    timerId = setInterval(Count, 60000);
    </script>
    <style>
    .wrap{
        height : 100%;
        display : flex;
        justify-content : center;
        align-items : center;
    }
    
    .gwakButton{
        background:#49538c;
        border: none
    }
    
    .gwakButton:not(:hover) .image {
      opacity: 0.7;
    }
    
    .gwakButton:hover .image {
      opacity: 1;
    }
    
    a:link{color:black;}
    a:visited{color:black;}
    a:hover{color:black;}
    a:active{color:black;}
    
    </style>
    </head>
    <body style="background:#49538c;">
        <div class="wrap">
            <div class="box">
               <center>
                    <h1 style="font-family:papyrus; font-size:50px"><span id="visits">-</span></h1>
                    <p style="font-family:papyrus; font-size:30px">Global Gwak Counter</p>
                    <button class="gwakButton" type="button" onclick="Count(true)"><img class="image"  src="button.png" alt="Button"></button><br><br>
                    <p id="localCnt" style="font-family:papyrus; font-size:30px">Local count : 0</p>
                    <p style="font-family:papyrus; font-size:20px"> Subscribe <a href="https://www.youtube.com/c/OuroKroniiCh">Ouro Kronii Ch. hololive-EN</a><br></p>
                    <p style="font-family:papyrus; font-size:15px"> Illustrated by <a href="https://twitter.com/potatoshura">Shura</a><br></p>
                    <p style="font-family:papyrus; font-size:15px"> Scripted by <a href="https://twitter.com/KyoKMonnoK">Kyono</a><br></p>
               </center>
           </div>
       </div>
    </body>
